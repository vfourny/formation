---
title: Composants
description: Comprendre les composants dans Vue 3 et comment les utiliser efficacement
icon: i-mdi-puzzle
---

## Création et utilisation d'un composant

Les **composants** sont des éléments réutilisables qui permettent de structurer une application Vue en morceaux indépendants. Il s'agit d'un fichier `.vue` qui a vocation à être importé ou réutilisé.
Imaginons dans notre cas que nous ayons extrait la logique de notre `Counter` précédemment et que nous cherchons à l'importer.

```vue
// Counter.component.vue
<script setup lang="ts">
import { ref } from 'vue';

const counter = ref(0);
const doubleCounter = computed(() => counter.value * 2);

const reset = () => {
  counter.value = 0;
};
</script>

<template>
  <div>
    <p>Compteur : {{ counter }}</p>
    <p>Double compteur : {{ doubleCounter }}</p>
    <button @click="counter++">Incrémenter</button>
    <button v-bind:disabled="counter===0" @click="reset">Réinitialiser</button>
  </div>
</template>
```


```vue
// App.vue
<script setup>
  import {ref} from 'vue';
  import CounterComponent from './components/counter.component.vue';

  const connectedUser = ref(null);
  const users = ref([
    {name: 'John', age: 25},
    {name: 'Jane', age: 24},
    {name: 'Jack', age: 30},
  ]);
</script>

<template>
  <div
  >
    <CounterComponent/>
    <div>
      <p v-if="connectedUser">Connected User : {{ connectedUser }}</p>
      <ul>
        <li v-for="user in users" :key="user.name">
          {{ user.name }} - {{ user.age }} years
        </li>
      </ul>
      <input v-model="connectedUser" type="text">
    </div>
  </div>
</template>

<style scoped>
  div {
    margin-top: 2em;
    display: block
  }
</style>
```

## Props: Passer des données aux composants

Les **props** permettent de transmettre des données d'un composant parent à un composant enfant.

#### **Composant Enfant (`MonComposant.vue`)**

```vue
<template>
  <div>
    <h2>{{ title }}</h2>
  </div>
</template>

<script>
export default {
  props: ["title"]
};
</script>
```

#### **Composant Parent (`App.vue`)**

```vue
<template>
  <MonComposant title="Titre dynamique" />
</template>

<script>
import MonComposant from "./MonComposant.vue";

export default {
  components: {
    MonComposant
  }
};
</script>
```

---

## Émission d'événements entre composants

Lorsqu'un composant enfant doit envoyer une information au parent, on utilise `$emit`.

#### **Composant Enfant (`Bouton.vue`)**

```vue
<template>
  <button @click="envoyerMessage">Cliquez-moi</button>
</template>

<script>
export default {
  methods: {
    envoyerMessage() {
      this.$emit("messageEnvoye", "Bonjour depuis le composant enfant !");
    }
  }
};
</script>
```

#### **Composant Parent (`App.vue`)**

```vue
<template>
  <Bouton @messageEnvoye="afficherMessage" />
</template>

<script>
import Bouton from "./Bouton.vue";

export default {
  components: { Bouton },
  methods: {
    afficherMessage(message) {
      console.log(message);
    }
  }
};
</script>
```

---

## Slots : insérer du contenu personnalisé

Les **slots** permettent de passer du contenu HTML au sein d'un composant.

#### **Composant Enfant (`Carte.vue`)**

```vue
<template>
  <div class="carte">
    <slot></slot>
  </div>
</template>

<style>
.carte {
  border: 1px solid black;
  padding: 10px;
}
</style>
```

#### **Composant Parent (`App.vue`)**

```vue
<template>
  <Carte>
    <p>Contenu personnalisé inséré via un slot.</p>
  </Carte>
</template>

<script>
import Carte from "./Carte.vue";

export default {
  components: { Carte }
};
</script>
```

